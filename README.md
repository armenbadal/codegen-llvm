# LLVM IR կոդի գեներերացիա

## Աբստրակտ քերականական ծառ

Աբստրակտ քերականական ծառը կազմված է չորս հանգույցների չորս
հիմնական տիպերից․ _մոդուլ_ (`Module`), _ֆունկցիա_ (`Function`),
_հրաման_ (`Statement`) և _արտահայտություն_ (`Expression`)։ 

### Մոդուլ

Մոդուլը _կոմպիլյացիայի միավորն_ է, որ պարունակում է ֆունկցիաների հայտարարությունների ու սահմանումների շարք։ `ast` անունների տիրույթի `Module` դասը մոդելավորում է կոմպիլյացիայի միավորը։

````c++
class Module {
private:
  std::string name; // մոդուլի անունը
  std::Vector<Function*> funcs; // ֆունկցիաներ
public:
  Module(const std::string& n)
    : name{n}
  {}
  void addFunction(Function* f)
  { funcs.push_back(f); }
  llvm::Module* code();
};
````

Այս դասի `code()` մեթոդը LLVM IR կոդ է գեներացնում ամբողջ մոդուլի համար, և վերադարձնում է կառուցված `llvm::Module` օբյեկտի ցուցիչը։


### Ֆունկցիա

Աբստրակտ քերականակակն ծառի երկրորդ խոշոր միավորը _ենթածրագիրն_ է։ `ast` անունների տիրույթի `Function` դասով մոդելավորվում են և՛ ֆունկցիաները, և՛ պրոցեդուրաները։ 


### Հրամաններ

Հրամանները մոդելավորվում են `ast` անունների տիրույթի `Statement` վերացական դասի կոնկրետացումներով։ Բոլոր այդ կոնկրետ դասերում իրականաված է LLVM IR կոդ գեներացնող `void code()` մեթոդը։

````
Statement
  Sequence
  Declare
  Assign
  Return
  If
  While
  For
  Input
  Print
````


### Արտահայտություններ

````
Expression
  Binary
  Unary
  FunCall
  Constant
  Variable
````

